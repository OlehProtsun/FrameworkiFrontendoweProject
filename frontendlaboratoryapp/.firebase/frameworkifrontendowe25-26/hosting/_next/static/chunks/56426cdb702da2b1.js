(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64288,e=>{"use strict";var s=e.i(2939),t=e.i(7199);e.i(98887);var r=e.i(20850),a=e.i(69670);function o(){let{user:e}=(0,a.useAuth)(),o=(0,r.getAuth)(),[l,n]=(0,t.useState)(""),[d,i]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[x,p]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[w,b]=(0,t.useState)(!1);if(!e)return null;let f=async e=>{if(e.preventDefault(),p(""),h(""),!l||!d||!c)return void p("Please fill in all fields.");if(d.length<6)return void p("New password should be at least 6 characters long.");if(d!==c)return void p("New passwords do not match.");let s=o.currentUser;if(!s||!s.email)return void p("No authenticated user. Please sign in again.");b(!0);try{let e=r.EmailAuthProvider.credential(s.email,l);await (0,r.reauthenticateWithCredential)(s,e),await (0,r.updatePassword)(s,d),h("Your password has been updated successfully."),n(""),i(""),u("")}catch(e){console.error(e),"auth/wrong-password"===e.code?p("Current password is incorrect."):"auth/weak-password"===e.code?p("New password is too weak."):"auth/too-many-requests"===e.code?p("Too many attempts. Please try again later or reset your password via email."):p("Something went wrong while changing the password.")}finally{b(!1)}};return(0,s.jsxs)("div",{className:"max-w-xl",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold text-slate-50",children:"Change password"}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Update your account password. You'll need to enter your current password for security reasons."})]}),(0,s.jsxs)("div",{className:"rounded-3xl border border-white/10 bg-slate-950/80 p-6 shadow-[0_18px_55px_rgba(15,23,42,0.9)]",children:[x&&(0,s.jsx)("div",{className:"mb-4 rounded-2xl border border-rose-500/40 bg-rose-500/10 px-4 py-3 text-xs text-rose-100",children:x}),m&&(0,s.jsx)("div",{className:"mb-4 rounded-2xl border border-emerald-500/40 bg-emerald-500/10 px-4 py-3 text-xs text-emerald-100",children:m}),(0,s.jsxs)("form",{className:"space-y-4",onSubmit:f,children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{htmlFor:"currentPassword",className:"text-xs font-medium text-slate-200",children:"Current password"}),(0,s.jsx)("input",{id:"currentPassword",type:"password",value:l,onChange:e=>n(e.target.value),className:"block w-full rounded-2xl border border-white/10 bg-slate-900/70 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 outline-none ring-0 transition focus:border-sky-400 focus:ring-1 focus:ring-sky-500/60",placeholder:"Enter your current password"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{htmlFor:"newPassword",className:"text-xs font-medium text-slate-200",children:"New password"}),(0,s.jsx)("input",{id:"newPassword",type:"password",value:d,onChange:e=>i(e.target.value),className:"block w-full rounded-2xl border border-white/10 bg-slate-900/70 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 outline-none ring-0 transition focus:border-sky-400 focus:ring-1 focus:ring-sky-500/60",placeholder:"Choose a new password"}),(0,s.jsx)("p",{className:"text-[10px] text-slate-500",children:"Minimum 6 characters. Use a mix of letters, numbers and symbols."})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"text-xs font-medium text-slate-200",children:"Confirm new password"}),(0,s.jsx)("input",{id:"confirmPassword",type:"password",value:c,onChange:e=>u(e.target.value),className:"block w-full rounded-2xl border border-white/10 bg-slate-900/70 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 outline-none ring-0 transition focus:border-sky-400 focus:ring-1 focus:ring-sky-500/60",placeholder:"Repeat the new password"})]}),(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsx)("button",{type:"submit",disabled:w,className:"inline-flex items-center justify-center rounded-2xl bg-gradient-to-r from-sky-500 via-indigo-500 to-violet-500 px-4 py-2 text-sm font-medium text-white shadow-[0_10px_30px_rgba(56,189,248,0.55)] transition hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-sky-400/70 focus:ring-offset-2 focus:ring-offset-slate-950 disabled:cursor-not-allowed disabled:opacity-70",children:w?"Updating password...":"Change password"})})]})]})]})}e.s(["default",()=>o])}]);